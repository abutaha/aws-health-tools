## AWS Health Telegram Notifier

### Description

This tool can be used to post alerts to a Telegram Channel or Bot when AWS Health events are generated by using AWS Lambda and Amazon CloudWatch Events.

### Telegram Setup
Follow these steps to create a bot in Telegram:

1. Navigate to https://core.telegram.org/bots#3-how-do-i-create-a-bot to create a bot.

2. Save the Token.

3. Create a private Channel or Chat to your bot.

4. If you are using a channel, add your bot as channel's administrator.

4. Run this command to get the CHAT_ID for the channel or bot.
   curl -s -XPOST https://api.telegram.org/bot<token>/getMe

### AWS Setup

1. Create an IAM role for the Lambda function to use. Attach the [IAM policy](IAMPolicy) to the role in the IAM console.
Documentation on how to create an IAM policy is available here: http://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create.html
Documentation on how to create an IAM role for Lambda is available here: http://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-service.html#roles-creatingrole-service-console

2. Create a Lambda Python function by using the [sample](LambdaFunction.py) provided and choose the IAM role created in step 1. Update the configuration section of the Lambda function with webhook URL from the Slack setup above and update the Slack channel that you want AWS Health messages posted in.  
More information about Lambda is available here: http://docs.aws.amazon.com/lambda/latest/dg/getting-started.html
More information about Slack integration with Lambda is available here: https://aws.amazon.com/blogs/aws/new-slack-integration-blueprints-for-aws-lambda/

3. Create a CloudWatch Events rule to trigger the Lambda function created in step 2 for AWS Health events.
Documentation on how to create an AWS Health CloudWatch Events rule is available here: http://docs.aws.amazon.com/health/latest/ug/cloudwatch-events-health.html

More information about AWS Health is available here: http://docs.aws.amazon.com/health/latest/ug/what-is-aws-health.html

Note that this is a just an example of how to set up automation with AWS Health, Amazon CloudWatch Events, and AWS Lambda. We recommend testing the example and tailoring it to your environment before using it in your production environment.

### License
AWS Health Tools are licensed under the Apache 2.0 License.
